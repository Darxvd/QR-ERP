<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prueba QR</title>
  <script src="https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js"></script>
</head>
<body style="text-align: center; font-family: Arial, sans-serif; padding: 20px;">

  <h1>Prueba Esc√°ner QR</h1>
  <button onclick="startScanner()">üì∑ Abrir c√°mara</button>

  <div id="reader" style="width:300px; margin:20px auto;"></div>
  <div id="resultado" style="margin-top:20px; font-size:18px; font-weight:bold;"></div>

  <script>
    async function startScanner() {
      const html5QrCode = new Html5Qrcode("reader");

      try {
        await html5QrCode.start(
          { facingMode: "environment" }, // usa c√°mara trasera
          { fps: 10, qrbox: 250 },
          (decodedText) => {
            document.getElementById("resultado").innerHTML =
              "‚úÖ QR detectado: " + decodedText;
            html5QrCode.stop(); // detiene la c√°mara despu√©s de leer
          }
        );
      } catch (err) {
        console.error("Error al iniciar c√°mara:", err);
        document.getElementById("resultado").innerHTML =
          "‚ùå No se pudo abrir la c√°mara";
      }
    }
  </script>
</body>
</html>
